<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Supply and Demand Analysis</title>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.css" />
<link rel="stylesheet" href="../css/style.css" />
<style>
.tab { cursor: pointer; padding: 8px 16px; display: inline-block; background: #ddd; margin-right: 5px; border-radius: 5px 5px 0 0; }
.tab.active { background: #fff; border-bottom: 2px solid #fff; }
.tab-content { display: none; border: 1px solid #ddd; border-top: none; padding: 20px; border-radius: 0 5px 5px 5px; margin-bottom: 20px; }
</style>
</head>
<body>

<h1>Using Supply and Demand to Analyze Markets</h1>

<!-- Existing Chapter 3 Sections -->
<section id="chapter3-surplus">
  <h2>Changes in Surplus Due to Shifts</h2>
  <label for="shiftType">Shift Type:</label>
  <select id="shiftType">
    <option>No Shift</option>
    <option>Supply Shift Left</option>
    <option>Supply Shift Right</option>
    <option>Demand Shift Left</option>
    <option>Demand Shift Right</option>
  </select>
  <label>
    <input type="checkbox" id="showOldEq" checked>
    Show Original Equilibrium
  </label>
  <div id="Surplus-chapter3" style="width:100%;height:500px;"></div>
  <p id="explanationSurplus"></p>
</section>

<section id="chapter3-ceiling">
  <h2>Price Ceiling Effect on Supply & Demand</h2>
  <label for="priceCeiling">Price Ceiling: </label>
  <input type="range" id="priceCeiling" min="2" max="20" step="0.1">
  <span id="ceilingValue"></span>
  <div id="Ceiling-chapter3" style="width:100%;height:500px;"></div>
  <p id="explanation"></p>
</section>

<section id="chapter3-quota">
  <h2>Quota Effect Graph</h2>
  <label>Quota: <span id="quotaValue">4</span></label>
  <input type="range" id="quotaSlider" min="0" max="10" step="0.1" value="4">
  <div id="Quota-chapter3" style="width:100%;height:500px;"></div>
  <p id="quotaExplanation"></p>
</section>

<section id="chapter3-tax">
  <h2>Impact of Tax on Supply & Demand</h2>
  <label for="taxSlider">Tax Rate: <span id="taxValue">0</span></label>
  <input type="range" id="taxSlider" min="0" max="10" step="0.1" value="0" />
  <div id="Chapter3-taxPlot" style="width:100%;height:500px;"></div>
  <div id="results"></div>
</section>

<section id="chapter3-elasticity">
  <h2>Tax Incidence with Elasticity</h2>
  <label for="elasticitySelect">Elasticity:</label>
  <select id="elasticitySelect">
    <option value="Perfectly Elastic">Perfectly Elastic</option>
    <option value="Perfectly Inelastic">Perfectly Inelastic</option>
    <option value="Variable Elasticity" selected>Variable Elasticity</option>
  </select>
  <label for="bSlider" id="bLabel">Slope (b): <span id="bValue">0.5</span></label>
  <input type="range" id="bSlider" min="0.1" max="5" step="0.1" value="0.5">
  <div id="plotElasticity" style="width:100%;height:500px;"></div>
  <div id="tableElasticity"></div>
  <div id="explanationElasticity"></div>
</section>

<!-- Scripts -->
<script src="../js/chapter3-surplus.js"></script>
<script src="../js/chapter3-ceiling.js"></script>
<script src="../js/chapter3-elasticity.js"></script>
<script src="../js/chapter3-quota.js"></script>
<script src="../js/chapter3-tax.js"></script>
</body>
</html>
