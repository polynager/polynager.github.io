<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Utility Functions and Budget Constraints</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/python/python.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.css" />
    <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
    <div class="back-home-container">
  <a href="../index.html" class="back-home-button">← Back to Homepage</a>
</div>
    <h1>Utility Functions and Budget Constraints</h1>

    <section id="cobb-douglas">
  <h2>Cobb-Douglas Utility</h2>
  <label>Alpha (&#945;): 
    <input type="range" min="0.01" max="0.99" step="0.01" value="0.5" id="alphaSlider">
    <span id="alphaVal">0.50</span>
  </label>
  <div id="cobbDouglasPlot"></div>

  <button onclick="toggleCodeEditor('cobbDouglas')">See & Run Code</button>
  <div id="cobbDouglas-editor-container" class="code-editor-container" style="display: none;">
    <textarea id="cobbDouglas-code" class="code-area">
import matplotlib.pyplot as plt
import numpy as np

def cobb_douglas_utility(x, y, alpha):
    return (x**alpha) * (y**(1 - alpha))

x = np.linspace(0.1, 10, 100)
y = np.linspace(0.1, 10, 100)
X, Y = np.meshgrid(x, y)
U = cobb_douglas_utility(X, Y, 0.5)

plt.figure(figsize=(6,5))
contour = plt.contour(X, Y, U, levels=5)
plt.clabel(contour)
plt.xlabel("Good X")
plt.ylabel("Good Y")
plt.title("Cobb-Douglas Utility (α = 0.5)")
plt.grid(True)
plt.show()
    </textarea>
    <button onclick="runPythonFromEditor('cobbDouglas')">Run</button>
    <div id="cobbDouglas-output" class="plot-output"></div>
  </div>
</section>

    <section id="leontief">
        <h2>Leontief Utility</h2>
        <label>a: <input type="range" min="0.1" max="5" step="0.1" value="1" id="aSlider" /></label>
        <label>b: <input type="range" min="0.1" max="5" step="0.1" value="1" id="bSlider" /></label>
        <div id="leontiefPlot"></div>
    </section>

    <section id="linear">
        <h2>Linear Utility</h2>
        <label>a: <input type="range" min="0.1" max="5" step="0.1" value="1" id="laSlider" /></label>
        <label>b: <input type="range" min="0.1" max="5" step="0.1" value="1" id="lbSlider" /></label>
        <div id="linearPlot"></div>
    </section>

    <section id="budget-set">
        <h2>Budget Set</h2>
        <label>pX: <input type="range" min="0.1" max="10" step="0.1" value="1" id="pXSlider" /></label>
        <label>pY: <input type="range" min="0.1" max="10" step="0.1" value="1" id="pYSlider" /></label>
        <label>Income: <input type="range" min="1" max="100" step="1" value="10" id="incomeSlider" /></label>
        <div id="budgetPlot"></div>
    </section>

    <section id="cobb-douglas-bundle">
        <h2>Cobb-Douglas Utility with Budget Constraint</h2>
        <label>Alpha (&#945;): <input type="range" min="0.01" max="0.99" step="0.01" value="0.5" id="alphaBundleSlider" /></label>
        <label>pX: <input type="range" min="0.1" max="5" step="0.1" value="1" id="pXBundleSlider" /></label>
        <label>pY: <input type="range" min="0.1" max="5" step="0.1" value="2" id="pYBundleSlider" /></label>
        <div id="cobbDouglasBundlePlot"></div>
    </section>

    <section id="leontief-bundle">
        <h2>Leontief Utility with Budget Constraint</h2>
        <label>pX: <input type="range" min="0.1" max="5" step="0.1" value="1" id="pXLeontiefSlider" /></label>
        <label>pY: <input type="range" min="0.1" max="5" step="0.1" value="2" id="pYLeontiefSlider" /></label>
        <label>a: <input type="range" min="0.1" max="5" step="0.1" value="1" id="aLeontiefSlider" /></label>
        <label>b: <input type="range" min="0.1" max="5" step="0.1" value="1" id="bLeontiefSlider" /></label>
        <div id="leontiefBundlePlot"></div>
    </section>

    <section id="linear-bundle">
        <h2>Linear Utility with Budget Constraint</h2>
        <label>pX: <input type="range" min="0.1" max="5" step="0.1" value="1" id="pXLinearSlider" /></label>
        <label>pY: <input type="range" min="0.1" max="5" step="0.1" value="2" id="pYLinearSlider" /></label>
        <label>a: <input type="range" min="0.1" max="5" step="0.1" value="1" id="aLinearSlider" /></label>
        <label>b: <input type="range" min="0.1" max="5" step="0.1" value="1" id="bLinearSlider" /></label>
        <div id="linearBundlePlot"></div>
    </section>
    
   <!-- Python Code Runner -->
  <section id="python-plot">
    <h2>Try Your Own Python Code</h2>
    <textarea id="python-code" rows="10">
    import matplotlib.pyplot as plt
    import numpy as np
    
    x = np.linspace(0.1, 10, 100)
    y = x ** 0.5
    
    plt.plot(x, y, label="y = √x")
    plt.xlabel("Good X")
    plt.ylabel("Utility")
    plt.title("Custom Utility Plot")
    plt.grid(True)
    plt.legend()
    plt.show()
        </textarea>
        <button class="run-python-button" onclick="runPython()">Run Python Code</button>
        <div id="py-output" class="plot-output"></div>
      </section>

  <!-- JS Scripts -->
  <script src="../js/quiz.js"></script>
  <script src="../js/cobb-douglas.js"></script>
  <script src="../js/leontief.js"></script>
  <script src="../js/linear.js"></script>
  <script src="../js/budget-set.js"></script>
  <script src="../js/cobb-douglas-bundle.js"></script>
  <script src="../js/leontief-cplot.js"></script>
  <script src="../js/linear-cplot.js"></script>
  <script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>
  <script src="../js/python-runner.js"></script>
        
</body>
</html>
