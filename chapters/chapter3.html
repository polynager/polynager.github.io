<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Income & Substitution Effects — Cobb-Douglas</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.css" />
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
  <div class="back-home-container">
    <a href="../index.html" class="back-home-button">&larr; Back to Homepage</a>
  </div>

  <div class="text-box">
  <h2>1. Income effect on consumption</h2>

  <strong>Income effect</strong>
  <p>The income effect is the change in a consumer's consumption choice that results from a change in the purchasing power of the consumer's income.</p>
  <ul>
    <li>To isolate the income effect, the relative prices of each good and the consumer’s preferences are unchanged.</li>
  </ul>

  <strong>Normal and inferior goods</strong>
  <ul>
    <li><strong>Normal good:</strong> A good for which consumption increases with an increase in income, reflecting a positive income effect.</li>
    <li><strong>Inferior good:</strong> A good for which consumption decreases with an increase in income, reflecting a negative income effect.</li>
  </ul>
</div>
      <!-- === Income Effect === -->
  <section id="cobb-income">
    <div class="section-header">
      <h2>Income Effect — Cobb-Douglas Utility</h2>
      <button class="see-code-button" onclick="openModal('x')">See & Edit Code</button>
    </div>
    <label>Alpha (α): <span id="alphaVal">0.6</span>
      <input type="range" min="0.1" max="0.9" step="0.01" value="0.6" id="alphaSlider" />
    </label>
    <label>pₓ: <span id="pxValIncome">1.0</span>
      <input type="range" min="0.1" max="5" step="0.1" value="1" id="pxSliderIncome" />
    </label>
    <label>pᵧ: <span id="pyVal">1.0</span>
      <input type="range" min="0.1" max="5" step="0.1" value="1" id="pySlider" />
    </label>
    <label>Income: <span id="incomeVal">10.0</span>
      <input type="range" min="1" max="25" step="0.5" value="10" id="incomeSlider" />
    </label>
    <div id="cobbIncomePlot" style="width: 100%; height: 500px;"></div>
    <div id="explanation"></div>
  </section>

  <div class="explanation-text">
  <h2>Explanation of the Code</h2>

  <p>The code above creates an interactive visualization of the <strong>income effect</strong> in a two-good consumer model. It allows the user to adjust <strong>income</strong> to see how the consumer's budget constraint and optimal consumption bundle change.</p>

  <strong>Utility Function</strong>
  <p>The consumer maximizes their utility subject to a budget constraint. The utility function is assumed to have the Cobb-Douglas form:</p>
  <p><em>U(X, Y) = X<sup>α</sup> · Y<sup>1−α</sup></em></p>
  <p>Where:</p>
  <ul>
    <li><em>X</em> is the quantity of good X consumed,</li>
    <li><em>Y</em> is the quantity of good Y consumed.</li>
  </ul>
  <p>In this code, we assume that <em>α = 0.6</em>.</p>

  <strong>Budget Constraint</strong>
  <p>The consumer faces a budget constraint, which shows the possible combinations of goods <em>X</em> and <em>Y</em> that they can afford given their income and the prices of the goods. The budget constraint is:</p>
  <p><em>p<sub>x</sub> · X + p<sub>y</sub> · Y = Income</em></p>
  <p>Where:</p>
  <ul>
    <li><em>p<sub>x</sub></em> is the price of good X,</li>
    <li><em>p<sub>y</sub></em> is the price of good Y,</li>
    <li><em>Income</em> is the consumer’s total income.</li>
  </ul>
</div>

<div class="text-box">
  <h2>2. Price effect on consumption: Substitution and income effects between two normal goods</h2>

  <strong>Substitution effect</strong>
  <p>The substitution effect is the change in a consumer's consumption choices that results from a change in the relative price of two goods.</p>

  <strong>Income effect</strong>
  <p>The income effect is the change in a consumer's consumption choices that results from a change in the purchasing power of the consumer's income.</p>

  <strong>Total effect</strong>
  <p>The total effect is the sum of the substitution and income effect.</p>
</div>

<div class="text-box">
  <h2>3. Deriving the Substitution and Income Effects (Cobb-Douglas)</h2>

  <p>We want to decompose the <strong>total effect</strong> of a price change into two components:</p>
  <ul>
    <li><strong>Substitution effect</strong>: the change in consumption holding utility constant (movement along the same indifference curve).</li>
    <li><strong>Income effect</strong>: the change in consumption from the change in real purchasing power (movement between indifference curves).</li>
  </ul>

  <p>We'll work with a <strong>Cobb-Douglas utility function</strong> of the form:</p>
  <p><em>U(x, y) = x<sup>α</sup> y<sup>1 − α</sup></em></p>

  <strong>Step 1: Original Optimal Bundle</strong>
  <p>At initial prices and income:</p>
  <ul>
    <li>Income: <em>I</em></li>
    <li>Prices: <em>p<sub>x</sub><sup>initial</sup>, p<sub>y</sub></em></li>
    <li>Preference parameter: <em>α</em></li>
  </ul>
  <p>The Cobb-Douglas demand functions give the optimal bundle:</p>
  <p><em>x₀ = (I / p<sub>x</sub>) α, &nbsp;&nbsp;&nbsp; y₀ = (I / p<sub>y</sub>) (1 − α)</em></p>
  <p>The utility at this bundle is:</p>
  <p><em>U* = x₀<sup>α</sup> y₀<sup>1 − α</sup></em></p>

  <strong>Step 2: Substitution Effect — Compensated Bundle</strong>
  <p>We keep utility constant at <em>U*</em>, but change the relative prices (specifically <em>p<sub>x</sub></em>). To find the bundle that keeps utility constant while minimizing expenditure (i.e., Hicksian demand), we solve:</p>
  <p><em>U* = x<sup>α</sup> y<sup>1 − α</sup> ⇒ y = (U*)<sup>1 / (1 − α)</sup> x<sup>−α / (1 − α)</sup></em></p>
  <p>We then impose the <strong>tangency condition</strong>: the slope of the indifference curve equals the new price ratio:</p>
  <p><em>dy/dx = −(α / (1 − α)) · (U*)<sup>1 / (1 − α)</sup> x<sup>−1 / (1 − α)</sup> = −p<sub>x</sub><sup>new</sup> / p<sub>y</sub></em></p>
  <p>Solving this gives us the <strong>compensated quantity</strong> of good <em>x</em>, denoted <em>x<sub>sub</sub></em>, and the associated <em>y<sub>sub</sub></em>.</p>

  <strong>Step 3: New Optimal Bundle (Total Effect)</strong>
  <p>With the new price <em>p<sub>x</sub><sup>new</sup></em> and unchanged income, we apply the Cobb-Douglas demand again:</p>
  <p><em>x₁ = (I / p<sub>x</sub><sup>new</sup>) α, &nbsp;&nbsp;&nbsp; y₁ = (I / p<sub>y</sub>) (1 − α)</em></p>
  <p>This gives the <strong>new optimal bundle</strong> under the new price.</p>

  <strong>Step 4: Decomposition</strong>
  <ul>
    <li><strong>Total effect</strong>: change in <em>x</em>: <em>x₁ − x₀</em></li>
    <li><strong>Substitution effect</strong>: <em>x<sub>sub</sub> − x₀</em></li>
    <li><strong>Income effect</strong>: <em>x₁ − x<sub>sub</sub></em></li>
  </ul>

  <p>On a plot, these effects can be shown as <strong>horizontal arrows</strong>:</p>
  <ul>
    <li>From (<em>x₀, y₀</em>) → (<em>x<sub>sub</sub>, y₀</em>): substitution effect (price change only, utility held constant).</li>
    <li>From (<em>x<sub>sub</sub>, y₀</em>) → (<em>x₁, y₀</em>): income effect (real purchasing power change).</li>
  </ul>

  <p>This approach clearly isolates the substitution and income effects of a price change in one good, under Cobb-Douglas preferences.</p>
</div>

  <!-- === Substitution & Income === -->
  <section id="inc-subst">
    <div class="section-header">
      <h2>Substitution & Income Effect</h2>
      <button class="see-code-button" onclick="openModal('y')">See & Edit Code</button>
    </div>
    <label>pₓ: <span id="pxValSubst">2.0</span></label>
    <input type="range" id="pxSliderSubst" min="1" max="10" step="0.1" value="2.0" />
  </div>
  <div id="substitutionPlot" style="width:100%; height:600px;"></div>
  <pre id="outputText"></pre>
    
  </section>

  <!-- === Market Demand === -->
  <section id="market-demand">
      <div class="section-header">
    <h2>Individual and Market Demand Curves</h2>
        <button class="see-code-button" onclick="openModal('z')">See & Edit Code</button>
      </div>
    <div id="demandPlot" style="width:100%; height:600px;"></div>
  </section>


<div class="text-box">
  <h2>4. Simulation: Impact of a Carbon Tax Cut on Household Consumption</h2>
  <strong>Context</strong>
  <p>This simulation models how a <strong>20% reduction in the carbon tax</strong>—as recently implemented in Canada—affects a household's consumption of two goods:</p>
  <ul>
    <li><strong>Gasoline</strong> (Good X)</li>
    <li><strong>Groceries</strong> (Good Y)</li>
  </ul>
  <p>We assume that:</p>
  <ul>
    <li>Gasoline becomes 20% cheaper due to the tax cut.</li>
    <li>The household reallocates its monthly budget in response to the new relative prices.</li>
  </ul>

  <strong>Assumptions</strong>
  <table>
    <thead>
      <tr>
        <th>Parameter</th>
        <th>Value</th>
        <th>Rationale</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Monthly Income</td>
        <td>$3,000</td>
        <td>Approximate average household income</td>
      </tr>
      <tr>
        <td>α (Gasoline preference)</td>
        <td>0.3</td>
        <td>30% of budget typically spent on gasoline</td>
      </tr>
      <tr>
        <td>Price of Gasoline</td>
        <td>$1.80 → $1.44</td>
        <td>Reflects 20% tax cut</td>
      </tr>
      <tr>
        <td>Price of Groceries</td>
        <td>$1.00 (normalized)</td>
        <td>Set as baseline for simplicity</td>
      </tr>
    </tbody>
  </table>

  <strong>Economic Framework</strong>
  <p>We assume a <strong>Cobb-Douglas utility function</strong>:</p>
  <p><em>U(x, y) = x<sup>α</sup> y<sup>1 − α</sup></em></p>
  <p>Where:</p>
  <ul>
    <li><em>x</em>: litres of gasoline</li>
    <li><em>y</em>: units of groceries</li>
    <li><em>α = 0.3</em></li>
  </ul>
  <p>The simulation decomposes the effect of the price change into:</p>
  <ol>
    <li><strong>Substitution Effect</strong>: Change in consumption holding utility constant — household substitutes toward relatively cheaper gasoline.</li>
    <li><strong>Income Effect</strong>: Additional change from the increase in real purchasing power due to lower gas prices.</li>
  </ol>

  <strong>What the Graph Shows</strong>
  <ul>
    <li><strong>Original Budget Line</strong> (gray, dashed): Before the carbon tax cut.</li>
    <li><strong>New Budget Line</strong> (black): After the tax cut.</li>
    <li><strong>Compensated Budget Line</strong> (purple, dotted): Same utility as before, but at new prices.</li>
    <li><strong>Original & New Indifference Curves</strong>: Utility contours before and after the change.</li>
    <li><strong>Red Point</strong>: Original consumption bundle.</li>
    <li><strong>Purple Point</strong>: Substitution bundle (same utility as before, new prices).</li>
    <li><strong>Green Point</strong>: New consumption bundle (after the tax cut).</li>
    <li><strong>Arrows</strong>:
      <ul>
        <li><strong>Purple</strong>: Substitution effect (horizontal move from red to purple).</li>
        <li><strong>Orange</strong>: Income effect (horizontal move from purple to green).</li>
      </ul>
    </li>
  </ul>

  <strong>Interpretation</strong>
  <p>After the tax cut:</p>
  <ul>
    <li><strong>Gasoline consumption increases</strong> due to both substitution and income effects.</li>
    <li><strong>Groceries consumption stays constant</strong> in this visualization (we isolate horizontal movements in <em>X</em>).</li>
    <li>This framework helps illustrate <strong>how much of the behavioral response</strong> is due to relative price changes vs real income changes.</li>
  </ul>
</div>

<section id="carbon-tax">
      <div class="section-header">
    <h2>Impact of a 20% Carbon Tax Cut on Household Consumption</h2>
        <button class="see-code-button" onclick="openModal('w')">See & Edit Code</button>
      </div>
    <div id="taxEffectPlot" style="width:100%; height:600px;"></div>
    <pre id="taxOutput"></pre>
  </section>

  <div id="codeModal">
  <div class="modal-content">
    <header>
      <h3 id="modalTitle">Edit Python Code</h3>
      <button onclick="closeModal()" title="Close">&times;</button>
    </header>

<div class="modal-body">
  <div id="modalEditor"></div>
  <div class="modal-right">
    <div id="modalOutput"></div>
    <button onclick="runModalCode()">Run</button>
  </div>
</div>

  <!-- === Scripts === -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/python/python.min.js"></script>
  <script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>
  <script src="../js/python-runner.js"></script>
  <script src="../js/quiz2.js"></script>
  <script src="../js/cobb-income.js"></script>
  <script src="../js/inc-subst.js"></script>
  <script src="../js/market-demand.js"></script>
  <script src="../js/carbon-tax.js"></script>
    
</body>
</html>
