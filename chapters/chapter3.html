<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Utility Functions and Budget Constraints</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.css" />
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
<div class="back-home-container">
  <a href="../index.html" class="back-home-button">&larr; Back to Homepage</a>
</div>
<h1>Consumer Behavior</h1>
<section id="consumer-behavior-text">
  <div id="container">
  <!-- Box 1: Utility Functions and Indifference Curves -->
  <div class="text-box">
    <h2>1. Utility functions and indifference curves</h2>

    <strong>Utility functions</strong>
    <p>There are three standard utility functions: Cobb-Douglas, Leontief, and linear. Each utility function represents how consumers trade-off between the consumable goods, <em>X</em> and <em>Y</em>, when maximizing their utility.</p>

    <strong>Indifference curves</strong>
    <p>An indifference curve represents all combinations (bundles) of Good <em>X</em> and Good <em>Y</em> that provide the consumer with the same level of utility. Each point on the same indifference curve reflects a bundle that the consumer deems equally desirable.</p>
    <ul>
      <li>Indifference curves slope downwards. Therefore, if a consumer receives more of Good <em>X</em>, then they will need less of Good <em>Y</em> to maintain the same level of utility (remaining on the same indifference curve).</li>
      <li>If an indifference curve is convex to the origin, it reflects the idea of diminishing marginal rates of substitution. That is, as the consumer consumes more of Good <em>X</em>, they are less willing to give up Good <em>Y</em> for one more unit of Good <em>X</em>.</li>
    </ul>
  </div>

  <div class="text-box">
    <h3>1.1 Cobb-Douglas</h3>
    <p>The Cobb-Douglas utility function takes the form</p>

    <p>$$
    U(X, Y) = X^{\\alpha} Y^{1-\\alpha}
    $$</p>

    <p>where <em>α</em> represents the relative preference of the consumer for Good <em>X</em>. Given a constrained budget, <em>α</em> may also represent the expenditure share the consumer will dedicate to Good <em>X</em> (and \(1 - α\) to Good <em>Y</em>).</p>

    <p>The <strong>key properties</strong> of the Cobb-Douglas utility function are:</p>
    <ul>
      <li><strong>Convexity</strong>: The indifference curves are convex, indicating diminishing marginal rates of substitution.</li>
      <li><strong>Application</strong>: This is a standard utility function used in economic models where both goods are normal and can be consumed in varying proportions.</li>
    </ul>
  </div>
</div>
</section>
<section id="cobb-douglas">
  <div class="section-header">
    <h2>Cobb-Douglas Utility</h2>
    <button class="see-code-button" onclick="openModal('cobbDouglas')">See & Edit Code</button>
  </div>
  <label>Alpha (α): 
    <input type="range" min="0.01" max="0.99" step="0.01" value="0.5" id="alphaSlider"
           oninput="document.getElementById('alphaVal').textContent = this.value">
    <span id="alphaVal">0.50</span>
  </label>
  <div id="cobbDouglasPlot"></div>
</section>

<section id="cobb-douglas-3d">
  <div class="section-header">
    <h2>Cobb-Douglas 3D Utility Surface</h2>
    <button class="see-code-button" onclick="openModal('cobbDouglas3D')">See & Edit Code</button>
  </div>
  <div id="cobbDouglas3DPlot" style="width: 100%; height: 600px;"></div>
</section>
  <div class="explanation-text">
  <p>
    The indifference curves generated by a Cobb-Douglas utility function are presented above.
    As <em>α</em> increases, bundles on the same indifference curves require higher amounts of Good <em>Y</em>
    to balance the preferred consumption of Good <em>X</em>.
  </p>
</div>

  <div class="text-box">
  <h3>1.2 Leontief (for perfect complements)</h3>
  <p>The Leontief utility function takes the form</p>

  <p>
    $$
    U(X, Y) = \min(aX, bY)
    $$
  </p>

  <p>This utility function describes perfect complements, where Good <em>X</em> and Good <em>Y</em> are consumed in fixed proportions.
  For example, if a consumer has two left shoes and one right shoe, there is no functional utility derived from the second left shoe.
  The indifference curves are L-shaped, reflecting that the consumer derives no additional utility from having more of one good without a proportional increase in the other good.</p>

  <p>The <strong>key properties</strong> of the Leontief utility function are:</p>
  <ul>
    <li><strong>L-shaped indifference curves</strong>: Indifference curves reflect fixed ratios of consumption between the two goods.</li>
    <li><strong>No substitution</strong>: The consumer does not substitute between goods; they need specific quantities of both goods to derive utility.</li>
    <li><strong>Application</strong>: Leontief utility functions are relevant when two goods must be used together in fixed ratios, such as left and right shoes, or printers and ink cartridges.</li>
  </ul>
</div>

<section id="leontief">
  <div class="section-header">
    <h2>Leontief Utility</h2>
    <button class="see-code-button" onclick="openModal('leontief')">See & Edit Code</button>
  </div>
  <label>a: <input type="range" min="0.1" max="5" step="0.1" value="1" id="aSlider" /></label>
  <label>b: <input type="range" min="0.1" max="5" step="0.1" value="1" id="bSlider" /></label>
  <div id="leontiefPlot"></div>
</section>

<section id="leontief-3d">
  <div class="section-header">
    <h2>Leontief 3D Utility Surface</h2>
    <button class="see-code-button" onclick="openModal('leontief3D')">See & Edit Code</button>
  </div>
  <div id="leontief3DPlot" style="width: 100%; height: 600px;"></div>
</section>
<div class="explanation-text">
  <p>When we increase \( a \), it means that a single unit of Good \( X \) is now worth \( a \). Holding \( b \) constant, we therefore need \( \frac{a}{b} \) of Good \( Y \).</p>
</div>

<div class="text-box">
  <h3>1.3 Linear (for perfect substitutes)</h3>

  <p>The linear utility function takes the form</p>

  <p>
    $$
    U(X, Y) = aX + bY
    $$
  </p>

  <p>This function describes perfect substitutes, where the consumer is willing to trade off between the two goods at a constant rate. The indifference curves are straight lines, indicating a constant marginal rate of substitution (MRS). For example, if <em>X</em> and <em>Y</em> are perfect substitutes, the consumer might be indifferent between 1 unit of <em>X</em> and 2 units of <em>Y</em>, leading to linear trade-offs.</p>

  <p>The <strong>key properties</strong> of the linear utility function are:</p>
  <ul>
    <li><strong>Straight-line indifference curves</strong>: Reflecting that the consumer is always willing to trade one good for the other at a fixed rate.</li>
    <li><strong>Constant substitution</strong>: The consumer views the goods as perfect substitutes, meaning they are indifferent to which good they consume, as long as the ratio is maintained.</li>
    <li><strong>Application</strong>: This is relevant in cases where the goods provide the same utility, such as different brands of bottled water.</li>
  </ul>
</div>
  
<section id="linear">
  <div class="section-header">
    <h2>Linear Utility</h2>
    <button class="see-code-button" onclick="openModal('linear')">See & Edit Code</button>
  </div>
  <label>a: <input type="range" min="0.1" max="5" step="0.1" value="1" id="laSlider" /></label>
  <label>b: <input type="range" min="0.1" max="5" step="0.1" value="1" id="lbSlider" /></label>
  <div id="linearPlot"></div>
</section>

<section id="linear-3d">
  <div class="section-header">
    <h2>Linear 3D Utility Surface</h2>
    <button class="see-code-button" onclick="openModal('linear3D')">See & Edit Code</button>
  </div>
  <div id="linear3DPlot" style="width: 100%; height: 600px;"></div>
</section>


<div class="text-box">
  <h2>2. Budget Sets</h2>

  <strong>Budget sets</strong>
  <p>The budget constraint/set represents different combinations of goods a consumer can afford given their income, <em>I</em>, and the prices of the two goods, <em>p<sub>X</sub></em> and <em>p<sub>Y</sub></em>. Formally, the budget set is represented by</p>

  <p>
    $$
    B(p_X, p_Y, I) = \{x, y \in \mathbb{R}^2 : p_X \cdot X + p_Y \cdot Y \leq I \}
    $$
  </p>

  <p>That is, all bundles in which less than <em>I</em> is spent on purchasing Good <em>X</em> and Good <em>Y</em>.</p>

  <p>The slope of the budget set is equal to 
    $$
   = \\frac{p_X}{p_Y}
    $$
  </p>
</div>

<!-- Budget Constraint Sections -->
<section id="budget-set">
  <div class="section-header">
    <h2>Budget Set</h2>
    <button class="see-code-button" onclick="openModal('budgetset')">See & Edit Code</button>
  </div>
  <label>pX: <input type="range" min="0.1" max="10" step="0.1" value="1" id="pXSlider" /></label>
  <label>pY: <input type="range" min="0.1" max="10" step="0.1" value="1" id="pYSlider" /></label>
  <label>Income: <input type="range" min="1" max="100" step="1" value="10" id="incomeSlider" /></label>
  <div id="budgetPlot"></div>
</section>

<div class="text-box">
  <h2>3. Utility Maximization</h2>

  <p>The optimal bundle maximizes the consumer's utility, given their budget constraint. Visually, this occurs at the point (or points) where <strong>the budget constraint is tangent to an indifference curve</strong>. In simpler terms, at points where the slope of the indifference curve is equal to the slope of the budget constraint. Mathematically, this condition is:</p>

  <p style="text-align: center;">
    $$ \frac{MU_X}{MU_Y} = \frac{p_X}{p_Y} $$
  </p>

  <p>Formally, this captures the notion that consumers allocate their budget such that the <strong>marginal rate of substitution (MRS)</strong> between the two goods is equal to the price ratio. In other words, the rate at which the consumer is willing to trade Good X for Good Y (MRS) matches the rate at which the market allows them to do so (price ratio).</p>
</div>

<div class="text-box">
  <h3>3.1 Cobb-Douglas Utility</h3>

  <p>The Cobb-Douglas utility function is one of the most commonly used forms in economics. It is written as:</p>

  <p style="text-align: center;">
    $$ U(X, Y) = X^{\alpha} Y^{1-\alpha} $$
  </p>

  <p>
    Here, \( \alpha \in (0, 1) \) determines the consumer’s preference for Good \( X \) versus Good \( Y \). This utility function assumes that both goods are essential and can be substituted, but with diminishing marginal rates.
  </p>

  <ul>
    <li><strong>Convex indifference curves</strong> show the diminishing marginal rate of substitution.</li>
    <li><strong>Expenditure shares:</strong> \( \alpha \) corresponds to the share of income spent on Good \( X \), while \( 1 - \alpha \) is spent on Good \( Y \).</li>
  </ul>
</div>

<section id="cobb-douglas-bundle">
  <div class="section-header">
    <h2>Cobb-Douglas Utility with Budget Constraint</h2>
    <button class="see-code-button" onclick="openModal('cobbDouglasutility')">See & Edit Code</button>
  </div>
  <label>Alpha (&#945;): <input type="range" min="0.01" max="0.99" step="0.01" value="0.5" id="alphaBundleSlider" /></label>
  <label>pX: <input type="range" min="0.1" max="5" step="0.1" value="1" id="pXBundleSlider" /></label>
  <label>pY: <input type="range" min="0.1" max="5" step="0.1" value="2" id="pYBundleSlider" /></label>
  <div id="cobbDouglasBundlePlot"></div>
</section>

  <div class="explanation-text">
  <p>
    The optimal bundle occurs at the tangent point between the middle indifference curve, \( U = 10 \), and the budget line. 
    There is a single optimal bundle — a single <em>interior solution</em>.
  </p>

  <p>
    The lowest indifference curve, \( U = 5 \), is <strong>inefficient</strong> because there are feasible bundles that would provide greater utility. 
    The highest indifference curve, \( U = 15 \), is <strong>infeasible</strong> because it lies outside the budget set.
  </p>
</div>

  <div class="text-box">
  <h4>3.2 Leontief (for perfect substitutes)</h4>

  <p>
    $$
    U(X, Y) = \min(aX, bY)
    $$
  </p>
</div>

<section id="leontief-bundle">
  <div class="section-header">
    <h2>Leontief Utility with Budget Constraint</h2>
    <button class="see-code-button" onclick="openModal('leontieffutility')">See & Edit Code</button>
  </div>
  <label>pX: <input type="range" min="0.1" max="5" step="0.1" value="1" id="pXLeontiefSlider" /></label>
  <label>pY: <input type="range" min="0.1" max="5" step="0.1" value="2" id="pYLeontiefSlider" /></label>
  <label>a: <input type="range" min="0.1" max="5" step="0.1" value="1" id="aLeontiefSlider" /></label>
  <label>b: <input type="range" min="0.1" max="5" step="0.1" value="1" id="bLeontiefSlider" /></label>
  <div id="leontiefBundlePlot"></div>
</section>

<div class="text-box">
  <h4>3.3 Linear (for perfect substitutes)</h4>

  <p>
    $$
    U(X, Y) = aX + bY
    $$
  </p>
  </div>

<section id="linear-bundle">
  <div class="section-header">
    <h2>Linear Utility with Budget Constraint</h2>
    <button class="see-code-button" onclick="openModal('linearutility')">See & Edit Code</button>
  </div>
  <label>pX: <input type="range" min="0.1" max="5" step="0.1" value="1" id="pXLinearSlider" /></label>
  <label>pY: <input type="range" min="0.1" max="5" step="0.1" value="2" id="pYLinearSlider" /></label>
  <label>a: <input type="range" min="0.1" max="5" step="0.1" value="1" id="aLinearSlider" /></label>
  <label>b: <input type="range" min="0.1" max="5" step="0.1" value="1" id="bLinearSlider" /></label>
  <div id="linearBundlePlot"></div>
</section>

<div id="codeModal">
  <div class="modal-content">
    <header>
      <h3 id="modalTitle">Edit Python Code</h3>
      <button onclick="closeModal()" title="Close">&times;</button>
    </header>

    <!-- Side-by-side editor and output -->
<div class="modal-body">
  <div id="modalEditor"></div>
  <div class="modal-right">
    <div id="modalOutput"></div>
    <button onclick="runModalCode()">Run</button>
  </div>
</div>
    
<!-- Scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/python/python.min.js"></script>
<script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>
<script src="../js/quiz.js"></script>
<script src="../js/cobb-douglas.js"></script>
<script src="../js/cobb-douglas-3d.js"></script>
<script src="../js/leontief.js"></script>
<script src="../js/leontief-3d.js"></script>
<script src="../js/linear.js"></script>
<script src="../js/linear-3d.js"></script>
<script src="../js/budget-set.js"></script>
<script src="../js/cobb-douglas-bundle.js"></script>
<script src="../js/leontief-cplot.js"></script>
<script src="../js/linear-cplot.js"></script>
<script src="../js/python-runner.js"></script>
</body>
</html>
