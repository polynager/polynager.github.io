<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Utility Functions and Budget Constraints</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.css" />
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
<div class="back-home-container">
  <a href="../index.html" class="back-home-button">&larr; Back to Homepage</a>
</div>
<h1>Consumer Behavior</h1>
<section id="consumer-behavior-text">
    <div id="text-area">
      <h2>1. Utility functions and indifference curves</h2>

      <strong>Utility functions</strong>
      <p>There are three standard utility functions: Cobb-Douglas, Leontief, and linear. Each utility function represents how consumers trade-off between the consumable goods, <em>X</em> and <em>Y</em>, when maximizing their utility.</p>

      <strong>Indifference curves</strong>
      <p>An indifference curve represents all combinations (bundles) of Good <em>X</em> and Good <em>Y</em> that provide the consumer with the same level of utility. Each point on the same indifference curve reflects a bundle that the consumer deems equally desirable.</p>
      <ul>
        <li>Indifference curves slope downwards. Therefore, if a consumer receives more of Good <em>X</em>, then they will need less of Good <em>Y</em> to maintain the same level of utility (remaining on the same indifference curve).</li>
        <li>If an indifference curve is convex to the origin, it reflects the idea of diminishing marginal rates of substitution. That is, as the consumer consumes more of Good <em>X</em>, they are less willing to give up Good <em>Y</em> for one more unit of Good <em>X</em>.</li>
      </ul>
</div>
      <div id="text-area">
      <h3>1. Cobb-Douglas</h3>
      <p>The Cobb-Douglas utility function takes the form</p>

      <p>$$
      U(X, Y) = X^{\\α} Y^{1-\\α}
      $$</p>

      <p>where <em>α</em> represents the relative preference of the consumer for Good <em>X</em>. Given a constrained budget, <em>α</em> may also represent the expenditure share the consumer will dedicate to Good <em>X</em> (and \(1 - α\) to Good <em>Y</em>).</p>

      <p>The <strong>key properties</strong> of the Cobb-Douglas utility function are:</p>
      <ul>
        <li><strong>Convexity</strong>: The indifference curves are convex, indicating diminishing marginal rates of substitution.</li>
        <li><strong>Application</strong>: This is a standard utility function used in economic models where both goods are normal and can be consumed in varying proportions.</li>
      </ul>
    </div>
  </div>
</section>
<section id="cobb-douglas">
  <div class="section-header">
    <h2>Cobb-Douglas Utility</h2>
    <button class="see-code-button" onclick="openModal('cobbDouglas')">See & Edit Code</button>
  </div>
  <label>Alpha (α): 
    <input type="range" min="0.01" max="0.99" step="0.01" value="0.5" id="alphaSlider"
           oninput="document.getElementById('alphaVal').textContent = this.value">
    <span id="alphaVal">0.50</span>
  </label>
  <div id="cobbDouglasPlot"></div>
</section>

<section id="cobb-douglas-3d">
  <div class="section-header">
    <h2>Cobb-Douglas 3D Utility Surface</h2>
    <button class="see-code-button" onclick="openModal('cobbDouglas3D')">See & Edit Code</button>
  </div>
  <div id="cobbDouglas3DPlot" style="width: 100%; height: 600px;"></div>
</section>

<section id="leontief">
  <div class="section-header">
    <h2>Leontief Utility</h2>
    <button class="see-code-button" onclick="openModal('leontief')">See & Edit Code</button>
  </div>
  <label>a: <input type="range" min="0.1" max="5" step="0.1" value="1" id="aSlider" /></label>
  <label>b: <input type="range" min="0.1" max="5" step="0.1" value="1" id="bSlider" /></label>
  <div id="leontiefPlot"></div>
</section>

<section id="leontief-3d">
  <div class="section-header">
    <h2>Leontief 3D Utility Surface</h2>
    <button class="see-code-button" onclick="openModal('leontief3D')">See & Edit Code</button>
  </div>
  <div id="leontief3DPlot" style="width: 100%; height: 600px;"></div>
</section>

<section id="linear">
  <div class="section-header">
    <h2>Linear Utility</h2>
    <button class="see-code-button" onclick="openModal('linear')">See & Edit Code</button>
  </div>
  <label>a: <input type="range" min="0.1" max="5" step="0.1" value="1" id="laSlider" /></label>
  <label>b: <input type="range" min="0.1" max="5" step="0.1" value="1" id="lbSlider" /></label>
  <div id="linearPlot"></div>
</section>

<section id="linear-3d">
  <div class="section-header">
    <h2>Linear 3D Utility Surface</h2>
    <button class="see-code-button" onclick="openModal('linear3D')">See & Edit Code</button>
  </div>
  <div id="linear3DPlot" style="width: 100%; height: 600px;"></div>
</section>

<!-- Budget Constraint Sections -->
<section id="budget-set">
  <div class="section-header">
    <h2>Budget Set</h2>
    <button class="see-code-button" onclick="openModal('budgetset')">See & Edit Code</button>
  </div>
  <label>pX: <input type="range" min="0.1" max="10" step="0.1" value="1" id="pXSlider" /></label>
  <label>pY: <input type="range" min="0.1" max="10" step="0.1" value="1" id="pYSlider" /></label>
  <label>Income: <input type="range" min="1" max="100" step="1" value="10" id="incomeSlider" /></label>
  <div id="budgetPlot"></div>
</section>

<section id="cobb-douglas-bundle">
  <div class="section-header">
    <h2>Cobb-Douglas Utility with Budget Constraint</h2>
    <button class="see-code-button" onclick="openModal('cobbDouglasutility')">See & Edit Code</button>
  </div>
  <label>Alpha (&#945;): <input type="range" min="0.01" max="0.99" step="0.01" value="0.5" id="alphaBundleSlider" /></label>
  <label>pX: <input type="range" min="0.1" max="5" step="0.1" value="1" id="pXBundleSlider" /></label>
  <label>pY: <input type="range" min="0.1" max="5" step="0.1" value="2" id="pYBundleSlider" /></label>
  <div id="cobbDouglasBundlePlot"></div>
</section>

<section id="leontief-bundle">
  <div class="section-header">
    <h2>Leontief Utility with Budget Constraint</h2>
    <button class="see-code-button" onclick="openModal('leontieffutility')">See & Edit Code</button>
  </div>
  <label>pX: <input type="range" min="0.1" max="5" step="0.1" value="1" id="pXLeontiefSlider" /></label>
  <label>pY: <input type="range" min="0.1" max="5" step="0.1" value="2" id="pYLeontiefSlider" /></label>
  <label>a: <input type="range" min="0.1" max="5" step="0.1" value="1" id="aLeontiefSlider" /></label>
  <label>b: <input type="range" min="0.1" max="5" step="0.1" value="1" id="bLeontiefSlider" /></label>
  <div id="leontiefBundlePlot"></div>
</section>

<section id="linear-bundle">
  <div class="section-header">
    <h2>Linear Utility with Budget Constraint</h2>
    <button class="see-code-button" onclick="openModal('linearutility')">See & Edit Code</button>
  </div>
  <label>pX: <input type="range" min="0.1" max="5" step="0.1" value="1" id="pXLinearSlider" /></label>
  <label>pY: <input type="range" min="0.1" max="5" step="0.1" value="2" id="pYLinearSlider" /></label>
  <label>a: <input type="range" min="0.1" max="5" step="0.1" value="1" id="aLinearSlider" /></label>
  <label>b: <input type="range" min="0.1" max="5" step="0.1" value="1" id="bLinearSlider" /></label>
  <div id="linearBundlePlot"></div>
</section>

<div id="codeModal">
  <div class="modal-content">
    <header>
      <h3 id="modalTitle">Edit Python Code</h3>
      <button onclick="closeModal()" title="Close">&times;</button>
    </header>

    <!-- Side-by-side editor and output -->
<div class="modal-body">
  <div id="modalEditor"></div>
  <div class="modal-right">
    <div id="modalOutput"></div>
    <button onclick="runModalCode()">Run</button>
  </div>
</div>
    
<!-- Scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/codemirror.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.13/mode/python/python.min.js"></script>
<script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>
<script src="../js/quiz.js"></script>
<script src="../js/cobb-douglas.js"></script>
<script src="../js/cobb-douglas-3d.js"></script>
<script src="../js/leontief.js"></script>
<script src="../js/leontief-3d.js"></script>
<script src="../js/linear.js"></script>
<script src="../js/linear-3d.js"></script>
<script src="../js/budget-set.js"></script>
<script src="../js/cobb-douglas-bundle.js"></script>
<script src="../js/leontief-cplot.js"></script>
<script src="../js/linear-cplot.js"></script>
<script src="../js/python-runner.js"></script>
</body>
</html>
